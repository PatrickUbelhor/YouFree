<app-navbar></app-navbar>
<!--<p>-->
  <!--schedule works!-->
<!--</p>-->
<mat-card class="mat-h2">
  <h1>My Schedule</h1>
</mat-card>
<mat-card class="mat-h2" id="gridCard">
  <mat-grid-list cols="8" rowHeight="25px">
    <mat-grid-tile>Time</mat-grid-tile>
    <mat-grid-tile>M</mat-grid-tile>
    <mat-grid-tile>T</mat-grid-tile>
    <mat-grid-tile>W</mat-grid-tile>
    <mat-grid-tile>TR</mat-grid-tile>
    <mat-grid-tile>F</mat-grid-tile>
    <mat-grid-tile>SA</mat-grid-tile>
    <mat-grid-tile>S</mat-grid-tile>
  </mat-grid-list>
  <mat-grid-list cols="8" rowHeight="18px">
    <mat-grid-tile
      *ngFor="let tile of tiles"
      [colspan]="tile.cols"
      [rowspan]="tile.rows"
      [style.background]="tile.color"
      [id] = "tile.id"
      onclick="changeColor();
      function changeColor(){
        if(style.background !== ''){
          if(rgb2hex(style.background) === '#37da0d'){
            style.background = '#d82200'
          } else if(rgb2hex(style.background) === '#d82200'){
            style.background = '#37da0d'
          }
        }
      }

      function rgb2hex(rgb) {
        rgb = rgb.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(,\s*\d+\.*\d+)?\)$/);
        return '#' + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
      }

      function hex(x) {
        return ('0' + parseInt(x).toString(16)).slice(-2);
      }

    ">
      {{tile.time}}
    </mat-grid-tile>
  </mat-grid-list>
</mat-card>



